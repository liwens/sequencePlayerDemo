!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();class e{constructor({canvasId:e,sequenceJSON:r,sequenceIMG:t,time:i,onFinish:s,prefixName:o}){this.sequenceIndex=0,this.frames=[],this.index=0,this.playState="PENDING",this.prefixName="",this.time=i,this.canvas=document.getElementById(e),this.context=this.canvas.getContext("2d"),this.onFinish=s,this.prefixName=o,this.initPlayer(r,t)}initPlayer(e,r){let{frames:t}=e;this.sequenceIndex=Object.keys(t).length;for(var i=0;i<this.sequenceIndex;i++){const e=t[`${this.prefixName}${i}.png`],s=document.createElement("canvas");s.width=e.sourceSize.w,s.height=e.sourceSize.h;s.getContext("2d").drawImage(r,e.frame.x,e.frame.y,e.frame.w,e.frame.h,e.spriteSourceSize.x,e.spriteSourceSize.y,e.spriteSourceSize.w,e.spriteSourceSize.h),this.frames.push(s)}}drawImage(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.drawImage(this.frames[this.index],0,0,this.canvas.width,this.canvas.height)}handleDraw(){this.drawImage(),this.inter=setTimeout((()=>{this.index>=this.frames.length-1?this.handleEnd():(this.index+=1,this.handleDraw())}),this.time/this.sequenceIndex)}start(){return this.index=0,this.continue()}pause(){return clearTimeout(this.inter),this.playState="PAUSED",!0}continue(){return"PLAYING"!==this.playState&&(this.playState="PLAYING",this.handleDraw()),!0}handleEnd(){this.playState="FINISHED","function"==typeof this.onFinish&&this.onFinish()}stop(){return this.pause(),this.inter=null,this.index=0,this.playState="STOP",!0}}const r={meta:{image:"spritesheet.png",size:{w:5250,h:4250},scale:"1"},frames:{"red_0.png":{frame:{x:0,y:0,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_1.png":{frame:{x:750,y:0,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_10.png":{frame:{x:1500,y:0,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_11.png":{frame:{x:0,y:850,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_12.png":{frame:{x:750,y:850,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_13.png":{frame:{x:1500,y:850,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_14.png":{frame:{x:2250,y:0,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_15.png":{frame:{x:2250,y:850,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_16.png":{frame:{x:0,y:1700,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_17.png":{frame:{x:750,y:1700,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_18.png":{frame:{x:1500,y:1700,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_19.png":{frame:{x:2250,y:1700,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_2.png":{frame:{x:3e3,y:0,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_20.png":{frame:{x:3e3,y:850,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_21.png":{frame:{x:3e3,y:1700,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_22.png":{frame:{x:0,y:2550,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_23.png":{frame:{x:750,y:2550,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_24.png":{frame:{x:1500,y:2550,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_25.png":{frame:{x:2250,y:2550,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_26.png":{frame:{x:3e3,y:2550,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_27.png":{frame:{x:3750,y:0,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_28.png":{frame:{x:3750,y:850,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_29.png":{frame:{x:3750,y:1700,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_3.png":{frame:{x:3750,y:2550,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_30.png":{frame:{x:0,y:3400,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_4.png":{frame:{x:750,y:3400,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_5.png":{frame:{x:1500,y:3400,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_6.png":{frame:{x:2250,y:3400,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_7.png":{frame:{x:3e3,y:3400,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_8.png":{frame:{x:3750,y:3400,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}},"red_9.png":{frame:{x:4500,y:0,w:750,h:850},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:750,h:850},sourceSize:{w:750,h:850}}}},t=""+new URL("spritesheet-d1b934e9.png",import.meta.url).href;const i=document.getElementById("app");i&&(i.innerHTML="<h1>Hello, Click the button to preview the animation</h1>"),function(){let i,s=document.querySelector("#start"),o=document.querySelector("#pause"),n=document.querySelector("#continue"),h=document.querySelector("#stop");var a;(a=t,new Promise(((e,r)=>{const t=new Image;t.src=a,t.addEventListener("load",(()=>{e(t)})),t.addEventListener("error",(e=>{r(e),console.log(e,"<==error")}))}))).then((t=>{i=new e({canvasId:"sequenceCanvas",sequenceJSON:r,sequenceIMG:t,time:1e3,onFinish:()=>{},prefixName:"red_"})})),null==s||s.addEventListener("click",(function(){console.log("点击开始"),i.start()})),null==o||o.addEventListener("click",(function(){console.log("点击暂停"),i.pause()})),null==n||n.addEventListener("click",(function(){console.log("点击继续"),i.continue()})),null==h||h.addEventListener("click",(function(){console.log("点击结束"),i.stop()}))}();
